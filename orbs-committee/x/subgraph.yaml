specVersion: 1.0.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: Subscriptions
    network: mainnet
    source:
      address: "0xD11EFC10cf3A54B12e3F04143070BE3865E7Bb8E"
      abi: Subscriptions
      startBlock: 11191412
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - ContractRegistryAddressUpdated
        - GenesisRefTimeDelayChanged
        - InitializationComplete
        - Locked
        - MinimumInitialVcPaymentChanged
        - Payment
        - RegistryManagementTransferred
        - SubscriberAdded
        - SubscriberRemoved
        - SubscriptionChanged
        - Unlocked
        - VcConfigRecordChanged
        - VcCreated
        - VcOwnerChanged
      abis:
        - name: Subscriptions
          file: ./abis/Subscriptions.json
      eventHandlers:
        - event: ContractRegistryAddressUpdated(address)
          handler: handleContractRegistryAddressUpdated
        - event: GenesisRefTimeDelayChanged(uint256)
          handler: handleGenesisRefTimeDelayChanged
        - event: InitializationComplete()
          handler: handleInitializationComplete
        - event: Locked()
          handler: handleLocked
        - event: MinimumInitialVcPaymentChanged(uint256)
          handler: handleMinimumInitialVcPaymentChanged
        - event: Payment(indexed uint256,address,uint256,string,uint256)
          handler: handlePayment
        - event: RegistryManagementTransferred(indexed address,indexed address)
          handler: handleRegistryManagementTransferred
        - event: SubscriberAdded(address)
          handler: handleSubscriberAdded
        - event: SubscriberRemoved(address)
          handler: handleSubscriberRemoved
        - event: SubscriptionChanged(indexed uint256,address,string,uint256,string,uint256,uint256,bool,string)
          handler: handleSubscriptionChanged
        - event: Unlocked()
          handler: handleUnlocked
        - event: VcConfigRecordChanged(indexed uint256,string,string)
          handler: handleVcConfigRecordChanged
        - event: VcCreated(indexed uint256)
          handler: handleVcCreated
        - event: VcOwnerChanged(indexed uint256,address,address)
          handler: handleVcOwnerChanged
      file: ./src/subscriptions.ts
